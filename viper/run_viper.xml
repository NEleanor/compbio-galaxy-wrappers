<tool id="run_viper" name="Run VIPER" version="0.1.0">

    <requirements>
      <requirement type="package" version="1.10.0">bioconductor-viper</requirement>
      <requirement type="package" version="1.3.2">r-optparse</requirement>
      <requirement type="package" version="0.8.6">r-reshape</requirement>
      <requirement type="package" version="2.2.1">r-ggplot2</requirement>
      <requirement type="package" version="TODO">buchanae-viper</requirement>
    </requirements>

    <command detect_errors="exit_code"><![CDATA[
        run_viper.r --output $activity --regulons $regulons --expr $expression
    ]]></command>

    <inputs>
        <param type="data" name="regulons" />
        <param type="data" name="expression" />
    </inputs>

    <outputs>
        <data name="activity" format="tsv" />
    </outputs>

    <help><![CDATA[
Usage: ./run_viper.r [options]

Options:
	-o OUTPUT, --output=OUTPUT
		Path to output file.

	-r REGULONS, --regulons=REGULONS
		Path to RDS file containing network regulons.

	-e EXPR, --expr=EXPR
		Path to file containing expression of samples for which viper activity scores are desired.

	-h, --help
		Show this help message and exit
    ]]></help>
</tool>
