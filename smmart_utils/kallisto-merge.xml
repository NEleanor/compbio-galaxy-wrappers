<tool id="kallisto-merge" name="Kallisto Merge" version="@VERSION@.0" profile="17.09">

    <description></description>

    <macros>
        <import>macros.xml</import>
    </macros>

    @VERSION_CMD@

    <expand macro="requirements"/>

    <command detect_errors="exit_code"><![CDATA[
        smmart_utils kallisto-merge
        $kallisto_tsv1
        $kallisto_tsv2
        $sample1
        $sample2
    ]]></command>

    <inputs>
        <param name="kallisto_tsv1" type="data" format="tsv,tabular" label="Sample 1 Kallisto TSV"/>
        <param name="kallisto_tsv2" type="data" format="tsv,tabular" label="Sample 2 Kallisto TSV"/>
        <param name="sample1" type="text" label="Sample 1 Name"/>
        <param name="sample2" type="text" label="Sample 2 Name"/>
    </inputs>

    <outputs>
        <data name="output" format="tsv" from_work_dir="output.tsv" label="${tool.name} on ${on_string}: Merged Expression Matrix"/>
    </outputs>

    <help><![CDATA[
        This command takes two kallisto tsv outputs, summarizes them to gene-level TPMs, and merges them to create a 2 sample expression matrix. 
        
        Usage: smmart_utils kallisto-merge <kallisto tsv 1> <kallisto tsv 2> <sample 1 name> <sample 2 name> 
            
    ]]></help>

</tool>
